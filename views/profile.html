{% extends 'info.html' %}
    
    {% block content %}
    <div class="container">
        <main>
          <div class="py-5 text-center">
            <a href="/"><img class="d-block mx-auto mb-4" src="/public/logo.png" alt="logo" width="100"></a>
            <h2>Account Details</h2>
            <p class="lead">계정 정보를 확인하고 수정하실 수 있습니다.</p>
          </div>
      
          <div class="row g-5">
            <div class="col-md-5 col-lg-4 order-md-last">
              <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-primary">메뉴</span>
              </h4>
              <div class="list-group mb-3">
                  <a href="/profile" class="list-group-item list-group-item-action active disabled" aria-current="true">
                      <h6 class="my-0">계정 정보</h6>
                      <small class="">Account Details</small>
                  </a>
                  <a href="/profile/password" class="list-group-item list-group-item-action">
                      <h6 class="my-0">비밀번호 변경</h6>
                      <small class="text-muted">Change Password</small>
                  </a>
                </div>
              
      
              <form class="card p-2">
                  <form class="profile-form" action="/auth/profile" method="POST">
                <div class="input-group">
                  <input type="password" class="form-control" name="password" placeholder="비밀번호 확인">
                  <!-- <button type="submit" class="btn btn-secondary">Redeem</button> -->
                </div>
              </form>
            </div>
            <div class="col-md-7 col-lg-8">
              <h4 class="mb-3">내 정보</h4>
                <div class="row g-3">
                  <div class="col-sm-6">
                    <label for="userId" class="form-label">아이디</label>
                    <input type="text" class="form-control" id="userId" placeholder="" name="email" value="{{user.email}}" disabled>
                    <div class="invalid-feedback">
                      Valid first name is required.
                    </div>
                  </div>
      
                  <div class="col-sm-6">
                    <label for="nickName" class="form-label">닉네임<span class="text-danger">*</span></label>
                    <input type="text" class="form-control" id="nickName" name="nick" placeholder="" value="{{user.nick}}" required>
                    <div class="invalid-feedback">
                      Valid last name is required.
                    </div>
                  </div>
      
                  <div class="col-12">
                    <label for="snsAccount" class="form-label">SNS 계정</label>
                    <div class="input-group mb-3">
                      <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false"id="snsBtn">선택</button>
                      <ul class="dropdown-menu">
                        <li class="dropdown-item" onclick="setSNS(this.id)" id="instagram">Instagram</li>
                        <li class="dropdown-item" onclick="setSNS(this.id)" id="twitter">Twitter</li>
                        <li class="dropdown-item" onclick="setSNS(this.id)" id="facebook">Facebook</li>
                        <li><hr class="dropdown-divider"></li>
                        <li class="dropdown-item" onclick="setSNS(this.id)" id="선택">선택</li>
                      </ul>
                      <input type="text" class="visually-hidden" name="snsProvider" id="snsPr" value="선택">
                      <input type="text" class="form-control" aria-label="Text input with dropdown button" id="snsId" placeholder="SNS ID" name="snsId">
                    </div>
                  </div>
      
                  <div class="col-12">
                    <label for="address" class="form-label">주소 <span class="text-muted">(선택)</span></label>
                    <input type="text" class="form-control" name="address" id="address" placeholder="ex) 경기 성남시 분당구 대왕판교로645번길 16">
                    <div class="invalid-feedback">
                      Please enter a valid email address for shipping updates.
                    </div>
                  </div>

                  </div>
      
                  
      
                <hr class="my-4">
    
                <input class="w-100 btn btn-primary btn-lg" onclick="return check()" type="submit" value="저장하고 메인으로">
              </form>
            </div>
          </div>
        </main>
      
        
      </div>
    {% endblock %}

    {% block script %}
    <script type="text/javascript">
        function setSNS(val) {
            var snsProvider = val;
            document.getElementById('snsPr').value = snsProvider;
            document.getElementById('snsBtn').innerHTML = val;
        }
    </script>
    <script type="text/javascript">
        function check() {
            let id = document.getElementById('snsId').value;
            let btn = document.getElementById('snsBtn').innerHTML;

            console.log(id);
            console.log(btn);
            if (document.getElementById('snsId').value != ''
            && document.getElementById('snsBtn').innerHTML == '선택') {
                alert('SNS 종류를 선택해주세요');
                return false;
            }

            if (document.getElementById('snsId').value == ''
            && document.getElementById('snsBtn').innerHTML != '선택') {
                alert('SNS ID를 입력해주세요');
                return false;
            }

            // return false;
        }
    </script>
    {% endblock %}